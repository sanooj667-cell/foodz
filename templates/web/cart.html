{% extends 'base/web-base.html' %}
{% load static %}

{% block container %}

<header class="h-[80px] shadow-md">
    <ul class="flex justify-between w-[55%] md:w-[50%] py-3">
        <li><a href="{% url 'web:index' %}"><img src="{% static 'web/images/arrow.png' %}" alt="img" class="w-[24px] ml-6  py-3"></a></li>
        <li class="font-bold text-[30px]">cart</li>
    </ul>
</header>


{% if cart_item %}


<section class="m-auto py-10 flex justify-center">
    <div class="col-span-1 p-4 rounded-lg border  md:w-[50%] sm:w-[40%] mx-2 shadow-md ">
        <a href="#" class="flex">
            <img src="{{store.image.url }}" alt="image" class="w-[30%]   rounded-xl mr-4">
            <div class="65%">
                <h3 class="text-[16px] md:text-[23px] font-semibold mb-1">{{ store.name }}</h3>
                <p class="text-[12px] md:text-[18px] mb-4">{{ store.tagline}}</p>
                <div class="flex justify-start items-center">
                    <span class="flex justify-start items-center mr-4">
                        <img src="{% static 'web/images/star.png' %}" alt="image" class="w-[16px] mr-2 ">
                        {{ store.rating}}
                    </span>
                    <span class="flex justify-start items-center">
                        <img src="{% static 'web/images/clock.png' %}" alt="image" class="w-[16px] mr-2 ">
                        {{ store.time }}
                    </span>
                </div>
            </div>
        </a>
    </div>

</section>


<section class="flex justify-center my-4">
    
    <div class="col-span-1 p-4 rounded-lg border  md:w-[50%] sm:w-[40%] mx-2 shadow-md">
        <h1 class="border-b font-bold">ITEMS IN CART</h1>
        {% for item in cart_item %}
        <div class="border-b flex justify-between">
            <div>
                <h2 class="font-semibold my-2 ">{{item.item}}</h2>
                <h3 class="font-semibold text-black my-2">â‚¹{{item.amount}}</h3>
            </div>

            <div class="flex items-center">
                <div class="flex items-center rounded-full overflow-hidden">

                    <a href="{% url 'web:cart_decriment' id=item.id %}" class="px-3 py-2 text-white text-xl font-bold bg-green-500">
                        -
                    </a>

                    <div class="bg-white w-12 h-full text-center">{{ item.quantity }}</div>

                    <a href="{% url 'web:cart_incriment' id=item.id %}" class="px-3 py-2 text-white text-xl font-bold bg-green-500">
                        +
                    </a>

                </div>
            </div>

        </div>
        {% endfor %}
    </div>
</section>


<section class="flex justify-center my-4">
    <div class="col-span-1 p-4 rounded-lg border  md:w-[50%] sm:w-[40%] mx-2 shadow-md ">
        <div class="flex justify-between border-b pb-6 my-6">
            <input type="text" placeholder="coupen code" class="focus:outline-none">
            <a class="bg-green-500 rounded-md text-white px-10 py-1 text-[16px] font-semibold " href="#">APPLY</a>
        </div>

        <a href="#" class="flex gap-1 my-2">
            <img src="{% static 'web/images/discount.png' %}" alt="" class="w-[16px]">
            <p class="text-red-500 text-[15px] font-bold">View All Offers</p>
        </a>
    </div>

</section>

<section>
    <div class="flex justify-center">

        <div class="col-span-1 p-4 rounded-lg border  md:w-[50%] sm:w-[40%]  shadow-md my-4">

            <h1 class=" font-bold">BILL DETAILES</h1>

            <h1 class="border-b flex justify-between my-4 font-semibold"><span>Item Totel</span> <span>{{ sub_totel }}</span></h1>
            <h1 class="border-b flex justify-between my-4 font-semibold"><span>Offer Applied</span> <span>{{ offer_price }}</span>
            </h1>
            <h1 class="border-b flex justify-between my-4 font-semibold"><span>Delivery Charges (4km)</span>
                <span>{{delivery_charge}}</span></h1>

            <h1 class=" flex justify-between my-4 font-extrabold text-black mb-5"><span>To Pay</span> <span>{{totel}}</span>
            </h1>


        </div>

    </div>

    <div class="flex justify-center  pb-20">
        <div class="col-span-1 p-4 rounded-lg border  md:w-[50%] sm:w-[40%]  shadow-md my-4">
            <h1 class="border-b flex  my-4 font-semibold">DELIVER TO</h1>

            <div class="flex justify-between  my-6">
                {% if selected_add %}
                <P class="text-[10px] md:text-[16px]">{{selected_add.address}}, {{ selected_add.appartment }} , {{ selected_add.landmark }},  {{selected_add.address_type}}</P>
                {% else %}
                <P class="text-[10px] md:text-[16px]">No address selected</P>
                {% endif %}
                <a class="bg-green-500 rounded-md text-white px-10 py-1 text-[16px] font-semibold " href="{% url 'web:address_page' %}">CHANGE</a>

            </div>
        </div>



    <div class="fixed bottom-0 left-0 w-full flex justify-center bg-transparent z-50 mb-4">
        <a href="{% url 'web:checkout' %}" class="w-full max-w-3xl bg-red-500 text-white text-center py-4 font-semibold rounded-md">
            CONTINUE
        </a>
    </div>



</section>

{% else %}

<section class="text-center my-4">
    <h1 class="text-[25px] font-semibold tracking-widest">Cart is empty</h1>
    <p class="text-red-400 text-[20px] font-semibold tracking-widest">...</p>
</section>

{% endif %}

{% endblock %}